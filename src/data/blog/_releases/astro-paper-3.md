---
author: Sat Naing
pubDatetime: 2023-09-25T10:25:54.547Z
title: AstroPaper 3.0
slug: astro-paper-v3
featured: false
ogImage: https://github.com/satnaing/astro-paper/assets/53733092/1ef0cf03-8137-4d67-ac81-84a032119e3a
tags:
  - release
description: "AstroPaper ç‰ˆæœ¬ 3ï¼šä½¿ç”¨ Astro v3 å’Œæ— ç¼è§†å›¾è¿‡æ¸¡æå‡æ‚¨çš„ Web ä½“éªŒ"
---

æˆ‘ä»¬å¾ˆé«˜å…´å®£å¸ƒ AstroPaper v3 çš„å‘å¸ƒï¼Œå®ƒåŒ…å«æ–°åŠŸèƒ½ã€å¢å¼ºåŠŸèƒ½å’Œé”™è¯¯ä¿®å¤ï¼Œä»¥æå‡æ‚¨çš„ Web å¼€å‘ä½“éªŒã€‚è®©æˆ‘ä»¬æ·±å…¥äº†è§£æ­¤ç‰ˆæœ¬çš„äº®ç‚¹ï¼š

![AstroPaper v3](@/assets/images/AstroPaper-v3.png)

## ç›®å½•

## åŠŸèƒ½å’Œæ›´æ”¹

### Astro v3 é›†æˆ

<video autoplay loop="loop" muted="muted" plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/18fdb604-1ca3-41a0-8372-1367759091ff" type="video/mp4">
  <!-- <source src="/assets/docs/astro-paper-v3-view-transitions-demo.mp4" type="video/mp4"> -->
</video>

AstroPaper ç°åœ¨å®Œå…¨æ”¯æŒ [Astro v3](https://astro.build/blog/astro-3/)ï¼Œæä¾›æ”¹è¿›çš„æ€§èƒ½å’Œæ¸²æŸ“é€Ÿåº¦ã€‚

æ­¤å¤–ï¼Œæˆ‘ä»¬æ·»åŠ äº†å¯¹ Astro çš„ [ViewTransitions API](https://docs.astro.build/en/guides/view-transitions/) çš„æ”¯æŒï¼Œå…è®¸æ‚¨åœ¨è§†å›¾ä¹‹é—´åˆ›å»ºå¼•äººå…¥èƒœçš„åŠ¨æ€è¿‡æ¸¡ã€‚

åœ¨"æœ€æ–°éƒ¨åˆ†"ä¸­ï¼Œåªæ˜¾ç¤ºéç²¾é€‰æ–‡ç« ä»¥é¿å…é‡å¤ï¼Œå¹¶æ›´å¥½åœ°æ”¯æŒ ViewTransitions APIã€‚

### æ›´æ–° OG å›¾ç‰‡ç”Ÿæˆé€»è¾‘

![ç¤ºä¾‹ OG å›¾ç‰‡](https://user-images.githubusercontent.com/40914272/269252964-a0dc6735-80f7-41ed-8e74-4d4d70f96891.png)

æˆ‘ä»¬æ›´æ–°äº†è‡ªåŠ¨ OG å›¾ç‰‡ç”Ÿæˆçš„é€»è¾‘ï¼Œä½¿å…¶æ›´åŠ å¯é å’Œé«˜æ•ˆã€‚æ­¤å¤–ï¼Œå®ƒç°åœ¨æ”¯æŒæ–‡ç« æ ‡é¢˜ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼Œç¡®ä¿å‡†ç¡®ã€çµæ´»å’Œå¼•äººæ³¨ç›®çš„ç¤¾äº¤åª’ä½“é¢„è§ˆã€‚

`SITE.ogImage` ç°åœ¨æ˜¯å¯é€‰çš„ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒAstroPaper å°†ä½¿ç”¨ `SITE.title`ã€`SITE.desc` å’Œ `SITE.website` è‡ªåŠ¨ç”Ÿæˆ OG å›¾ç‰‡

### ä¸»é¢˜ meta æ ‡ç­¾

å·²æ·»åŠ  theme-color meta æ ‡ç­¾ä»¥åŠ¨æ€é€‚åº”ä¸»é¢˜åˆ‡æ¢ï¼Œç¡®ä¿æ— ç¼çš„ç”¨æˆ·ä½“éªŒã€‚

> æ³¨æ„é¡¶éƒ¨çš„å·®å¼‚

**_AstroPaper v2 ä¸»é¢˜åˆ‡æ¢_**

<video autoplay loop="loop" muted="muted" plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/3ab5a1e8-1891-4264-a5bb-0ded69143c1a" type="video/mp4">
</video>

**_AstroPaper v3 ä¸»é¢˜åˆ‡æ¢_**

<video autoplay loop="loop" muted="muted" plays-inline="true">
  <source src="https://github.com/satnaing/astro-paper/assets/53733092/8ac9deb8-d1f8-4029-86bd-6aa0def380b4" type="video/mp4">
</video>

## å…¶ä»–æ›´æ”¹

### Astro Prettier æ’ä»¶

Astro Prettier æ’ä»¶å·²å¼€ç®±å³ç”¨å®‰è£…ï¼Œä»¥ä¿æŒé¡¹ç›®æ•´æ´æœ‰åºã€‚

### æ¬¡è¦æ ·å¼æ›´æ”¹

å•è¡Œä»£ç å—æ¢è¡Œé—®é¢˜å·²è§£å†³ï¼Œä½¿æ‚¨çš„ä»£ç ç‰‡æ®µçœ‹èµ·æ¥æ›´åŠ å®Œç¾ã€‚

æ›´æ–°å¯¼èˆªæ ·å¼ CSS ä»¥å…è®¸å‘å¯¼èˆªæ·»åŠ æ›´å¤šå¯¼èˆªé“¾æ¥ã€‚

## å‡çº§åˆ° AstroPaper v3

> æ­¤éƒ¨åˆ†ä»…é€‚ç”¨äºæƒ³è¦ä»æ—§ç‰ˆæœ¬å‡çº§ AstroPaper v3 çš„ç”¨æˆ·ã€‚

æ­¤éƒ¨åˆ†å°†å¸®åŠ©æ‚¨ä» AstroPaper v2 è¿ç§»åˆ° AstroPaper v3ã€‚

åœ¨é˜…è¯»æœ¬èŠ‚çš„å…¶ä½™éƒ¨åˆ†ä¹‹å‰ï¼Œæ‚¨å¯èƒ½è¿˜æƒ³æŸ¥çœ‹[è¿™ç¯‡æ–‡ç« ](https://astro-paper.pages.dev/posts/how-to-update-dependencies/)ä»¥äº†è§£å¦‚ä½•å‡çº§ä¾èµ–å’Œ AstroPaperã€‚

## é€‰é¡¹ 1ï¼šå…¨æ–°é‡å¯ï¼ˆæ¨èï¼‰

åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œè¿›è¡Œäº†å¤§é‡æ›´æ”¹\_ ç”¨æ–°çš„ API æ›¿æ¢æ—§çš„ Astro APIã€é”™è¯¯ä¿®å¤ã€æ–°åŠŸèƒ½ç­‰ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨æ˜¯é‚£äº›æ²¡æœ‰è¿›è¡Œå¤ªå¤šè‡ªå®šä¹‰çš„äººï¼Œæ‚¨åº”è¯¥éµå¾ªæ­¤æ–¹æ³•ã€‚

**_æ­¥éª¤ 1ï¼šä¿ç•™æ‰€æœ‰å·²æ›´æ–°çš„æ–‡ä»¶_**

ä¿ç•™æ‰€æœ‰å·²æ›´æ–°çš„æ–‡ä»¶å¾ˆé‡è¦ã€‚è¿™äº›æ–‡ä»¶åŒ…æ‹¬

- `/src/config.ts`ï¼ˆv3 ä¸­æœªä¿®æ”¹ï¼‰
- `/src/styles/base.css`ï¼ˆv3 ä¸­çš„æ¬¡è¦æ›´æ”¹ï¼›å¦‚ä¸‹æ‰€è¿°ï¼‰
- `/src/assets/`ï¼ˆv3 ä¸­æœªä¿®æ”¹ï¼‰
- `/public/assets/`ï¼ˆv3 ä¸­æœªä¿®æ”¹ï¼‰
- `/content/blog/`ï¼ˆè¿™æ˜¯æ‚¨çš„åšå®¢å†…å®¹ç›®å½• ğŸ¤·ğŸ»â€â™‚ï¸ï¼‰
- æ‚¨æ‰€åšçš„ä»»ä½•å…¶ä»–è‡ªå®šä¹‰ã€‚

```css
/* file: /src/styles/base.css */
@layer base {
  /* Other Codes */
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-skin-card-muted;
  }

  /* Old code
  code {
    white-space: pre;
    overflow: scroll;
  } 
  */

  /* New code */
  code,
  blockquote {
    word-wrap: break-word;
  }
  pre > code {
    white-space: pre;
  }
}

@layer components {
  /* other codes */
}
```

**_æ­¥éª¤ 2ï¼šç”¨ AstroPaper v3 æ›¿æ¢å…¶ä»–æ‰€æœ‰å†…å®¹_**

åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œç”¨ AstroPaper v3 æ›¿æ¢é™¤ä¸Šè¿°æ–‡ä»¶/ç›®å½•ï¼ˆåŠ ä¸Šæ‚¨è‡ªå®šä¹‰çš„æ–‡ä»¶/ç›®å½•ï¼‰ä¹‹å¤–çš„æ‰€æœ‰å†…å®¹\_ã€‚

**_æ­¥éª¤ 3ï¼šæ¶æ„æ›´æ–°_**

è¯·è®°ä½ï¼Œ`/src/content/_schemas.ts` å·²è¢« `/src/content/config.ts` æ›¿æ¢ã€‚

æ­¤å¤–ï¼Œ`/src/content/config.ts` ä¸å†å¯¼å‡º `BlogFrontmatter` ç±»å‹ã€‚

å› æ­¤ï¼Œæ–‡ä»¶å†…çš„æ‰€æœ‰ `BlogFrontmatter` ç±»å‹éƒ½éœ€è¦æ›´æ–°ä¸º `CollectionEntry<"blog">["data"]`ã€‚

ä¾‹å¦‚ï¼š`src/components/Card.tsx`

```ts
// AstroPaper v2
import type { BlogFrontmatter } from "@content/_schemas";

export interface Props {
  href?: string;
  frontmatter: BlogFrontmatter;
  secHeading?: boolean;
}
```

```ts
// AstroPaper v3
import type { CollectionEntry } from "astro:content";

export interface Props {
  href?: string;
  frontmatter: CollectionEntry<"blog">["data"];
  secHeading?: boolean;
}
```

## é€‰é¡¹ 2ï¼šä½¿ç”¨ Git å‡çº§

æ­¤æ–¹æ³•ä¸æ¨èç»™å¤§å¤šæ•°ç”¨æˆ·ã€‚å¦‚æœå¯ä»¥ï¼Œæ‚¨åº”è¯¥æ‰§è¡Œ"é€‰é¡¹ 1"ã€‚åªæœ‰åœ¨æ‚¨çŸ¥é“å¦‚ä½•è§£å†³åˆå¹¶å†²çªå¹¶ä¸”çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆæ—¶æ‰æ‰§è¡Œæ­¤æ“ä½œã€‚

å®é™…ä¸Šï¼Œæˆ‘å·²ç»ä¸ºæ­¤æƒ…å†µå†™äº†ä¸€ç¯‡åšå®¢æ–‡ç« ï¼Œæ‚¨å¯ä»¥[åœ¨è¿™é‡Œ](https://astro-paper.pages.dev/posts/how-to-update-dependencies/#updating-astropaper-using-git)æŸ¥çœ‹ã€‚

## ç»“è¯­

å‡†å¤‡å¥½æ¢ç´¢ AstroPaper v3 ä¸­ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›å—ï¼Ÿç«‹å³å¼€å§‹[ä½¿ç”¨ AstroPaper](https://github.com/satnaing/astro-paper)ã€‚

æœ‰å…³å…¶ä»–é”™è¯¯ä¿®å¤å’Œé›†æˆæ›´æ–°ï¼Œè¯·æŸ¥çœ‹[å‘å¸ƒè¯´æ˜](https://github.com/satnaing/astro-paper/releases/tag/v3.0.0)ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚

å¦‚æœæ‚¨åœ¨å‡çº§è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é”™è¯¯æˆ–é‡åˆ°å›°éš¾ï¼Œè¯·éšæ—¶åœ¨ [GitHub](https://github.com/satnaing/astro-paper) ä¸Šæå‡ºé—®é¢˜æˆ–å¼€å§‹è®¨è®ºã€‚
